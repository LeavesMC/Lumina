From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: MrHua269 <novau233@163.com>
Date: Wed, 7 Feb 2024 04:46:30 +0000
Subject: [PATCH] Petal Reduce sensor work


diff --git a/src/main/java/net/minecraft/world/entity/Mob.java b/src/main/java/net/minecraft/world/entity/Mob.java
index bb5de770b6659379a68c077ff1cfc8d95d149c5c..611926cc99cf275d7aa596f3b7e86fd6abc18f59 100644
--- a/src/main/java/net/minecraft/world/entity/Mob.java
+++ b/src/main/java/net/minecraft/world/entity/Mob.java
@@ -983,12 +983,12 @@ public abstract class Mob extends LivingEntity implements EquipmentUser, Targeti
             return;
         }
         // Paper end - Allow nerfed mobs to jump and float
+        int i = this.tickCount + this.getId(); //Luminol - Petal - Move up
         ProfilerFiller gameprofilerfiller = this.level().getProfiler();
 
         gameprofilerfiller.push("sensing");
-        this.sensing.tick();
+        if (i % org.leavesmc.lumina.config.LuminaConfig.configModule.optimization.petalReduceSensorWork.delayTicks == 0 || !org.leavesmc.lumina.config.LuminaConfig.configModule.optimization.petalReduceSensorWork.enabled) this.sensing.tick(); // Luminol - Petal - Reduce sensor work
         gameprofilerfiller.pop();
-        int i = this.tickCount + this.getId();
 
         if (i % 2 != 0 && this.tickCount > 1) {
             gameprofilerfiller.push("targetSelector");
